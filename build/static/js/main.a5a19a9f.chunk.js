(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(49)},28:function(e,n,t){},47:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(18),u=t.n(c),l=t(19),o=t(5),s=t(2);var i=function(e){return e.children},m=function(e){var n=e.person,t=e.clicked;return r.a.createElement(i,null,r.a.createElement("p",null,r.a.createElement("span",{className:"contact-name"},n.name)," ",n.number," "),r.a.createElement("button",{onClick:function(){return t(n.id)}},"delete"))},d=function(e){var n=e.query,t=e.persons,a=e.clicked,c=new RegExp(n,"i");return t.filter(function(e){return c.test(e.name)}).map(function(e,n){return r.a.createElement("div",{className:"person prsn-".concat(n),key:e.id},r.a.createElement(m,{person:e,clicked:a}))})},g=(t(28),{backgroundColor:"white",borderColor:"red",color:"red",animationName:"popDown",animationDuration:"3s",animationTimingFunction:"ease-in-out"}),p={backgroundColor:"white",borderColor:"green",color:"green",animationName:"popDown",animationDuration:"3s",animationTimingFunction:"ease-in-out"},b=function(e){var n=e.message,t=n.success,a=n.message;return t&&a?r.a.createElement("p",{style:p,className:"pop-up"},a):!t&&a?r.a.createElement("p",{style:g,className:"pop-up"},a):null},f=function(e){var n=(new Date).toISOString().split("T")[0];return r.a.createElement("form",{onSubmit:e.submit},r.a.createElement("div",null,r.a.createElement("label",null,"name",r.a.createElement("input",{name:"phonebookEntry",htmlFor:"name",placeholder:"name",value:e.name,onChange:e.nameChange}))),r.a.createElement("div",null,r.a.createElement("label",null,"number",r.a.createElement("input",{name:"phonebookEntry",htmlFor:"number",placeholder:"number",value:e.number,onChange:e.numChange}))),r.a.createElement("div",null,r.a.createElement("label",null,"e-mail",r.a.createElement("input",{type:"email",name:"phonebookEntry",htmlFor:"e-mail",placeholder:"e-mail",value:e.email,onChange:e.emailChange}))),r.a.createElement("div",null,r.a.createElement("label",null,"address",r.a.createElement("input",{name:"phonebookEntry",htmlFor:"address",placeholder:"address",value:e.address,onChange:e.addressChange}))),r.a.createElement("div",null,r.a.createElement("label",null,"birthday"),r.a.createElement("input",{type:"date",name:"phonebookEntry",htmlFor:"birthday",placeholder:"birthday",value:e.birthdate,onChange:e.birthdateChange,max:n})),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"male",onChange:function(n){return e.genderChange(n.target.value)},checked:"male"===e.gender}),"Male"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"female",onChange:function(n){return e.genderChange(n.target.value)},checked:"female"===e.gender}),"Female"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"non-binary",onChange:function(n){return e.genderChange(n.target.value)},checked:"non-binary"===e.gender}),"Non-Binary")),r.a.createElement("button",{type:"submit"},"Save Contact"))},h=t(3),E=t.n(h),v="/api/persons";var C={getAll:function(){return E.a.get(v).then(function(e){return e.data})},create:function(e){return E.a.post(v,e).then(function(e){return e.data})},update:function(e,n){return E.a.put("".concat(v,"/").concat(e),n).then(function(e){return e.data})},remove:function(e){return E.a.delete("".concat(v,"/").concat(e)).then(function(e){return e.data})}},y=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),m=Object(s.a)(u,2),g=m[0],p=m[1],h=Object(a.useState)(""),E=Object(s.a)(h,2),v=E[0],y=E[1],O=Object(a.useState)(""),j=Object(s.a)(O,2),k=j[0],w=j[1],S=Object(a.useState)(""),T=Object(s.a)(S,2),D=T[0],F=T[1],N=Object(a.useState)(""),U=Object(s.a)(N,2),A=U[0],x=U[1],R=Object(a.useState)("non-binary"),M=Object(s.a)(R,2),q=M[0],B=M[1],I=Object(a.useState)(""),J=Object(s.a)(I,2),L=J[0],P=J[1],H=Object(a.useState)({success:null,message:null}),z=Object(s.a)(H,2),G=z[0],K=z[1];Object(a.useEffect)(function(){C.getAll().then(function(e){return c(Object(o.a)(e))}).catch(function(e){K({success:!1,message:e.message}),setTimeout(function(){return K({success:null,message:null})},3e3)})},[]);return r.a.createElement(i,null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(b,{message:G}),r.a.createElement("input",{placeholder:"filter by...",onChange:function(e){return P(e.target.value)}}),r.a.createElement("h1",null,"add new contact"),r.a.createElement(f,{submit:function(e){e.preventDefault();var n=new RegExp(g,"i");if(t.find(function(e){return n.test(e.name)&&e.number.replace(/\D/g,"")!==v.replace(/\D/g,"")}))if(window.confirm("".concat(g.toUpperCase()," is already in the phonebook, replace  number ?"))){var a=t.find(function(e){return e.name.match(n)}),r=a.id,u=Object(l.a)({},a,{number:v});C.update(r,u).then(function(e){c(t.map(function(n){return n.id!==r?n:e})),K({success:!0,message:"changed ".concat(u.name.toUpperCase(),"'s number")}),setTimeout(function(){K({success:null,message:null})})}).catch(function(e){K({success:!1,message:e.message}),setTimeout(function(){return K({success:null,message:null})})})}else K({success:!1,message:"declined replacing ".concat(g.toUpperCase(),"'s number")}),setTimeout(function(){return K({success:null,message:null})},3e3);else{if(t.find(function(e){return n.test(e.name)}))return K({success:!1,message:"duplicate info"}),setTimeout(function(){return K({success:null,message:null})},3e3);var s={name:g,number:v,email:k,address:D,birthdate:A,gender:q,id:t.length+1,date:new Date};C.create(s).then(function(e){return c([].concat(Object(o.a)(t),[e])),K({success:!0,message:"added ".concat(g.toUpperCase())}),setTimeout(function(){return K({success:null,message:null})},3e3)}).catch(function(e){return console.log(e.response.data.errors),K({success:!1,message:e.response.data.error}),setTimeout(function(){return K({success:null,message:null})},3e3)})}},name:g,nameChange:function(e){return p(e.target.value)},number:v,numChange:function(e){return y(e.target.value)},email:k,emailChange:function(e){return w(e.target.value)},address:D,addressChange:function(e){return F(e.target.value)},birthdate:A,birthdateChange:function(e){return x(e.target.value)},gender:q,genderChange:function(e){return B(e)}}),r.a.createElement("h1",null,"numbers"),r.a.createElement("div",{className:"phonebook-entries"},r.a.createElement(d,{persons:t,query:L,clicked:function(e){var n=t.find(function(n){return n.id===e});if(!window.confirm("remove ".concat(n.name.toUpperCase()," ?")))return K({success:!0,message:"declined deleting ".concat(n.name,"'s contact")}),setTimeout(function(){return K({success:null,message:null})},3e3);C.remove(e).then(function(){c(Object(o.a)(t.filter(function(n){return n.id!==e}))),K({success:!1,message:"removed ".concat(n.name.toUpperCase()," from phonebook")}),setTimeout(function(){return K({success:null,message:null})},3e3)}).catch(function(e){K({success:!1,message:e.message}),setTimeout(function(){return K({success:null,message:null})},3e3)})}})))};t(47);u.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,{persons:[{name:"Arto Hellas",number:"123-456-789",id:1},{name:"Ada Lovelace",number:"39-44-5323523",id:2},{name:"Dan Abramov",number:"12-43-234345",id:3},{name:"Mary Poppendieck",number:"39-23-6423122",id:4},{name:"Rhyan LeShawn",number:"+1 408-616-8483",id:5}]})))}},[[20,2,1]]]);
//# sourceMappingURL=main.a5a19a9f.chunk.js.map