{"version":3,"sources":["components/hoc/Auxiliary.js","components/Person/Person.js","components/Filter/Filter.js","components/Notification/Notification.js","components/Form/Form.js","services/Persons.js","App.js","index.js"],"names":["Aux","props","children","Person","_ref","person","clicked","react_default","a","createElement","Auxiliary","className","name","number","onClick","id","Filter","query","persons","regex","RegExp","filter","test","map","prsn","i","concat","key","components_Person_Person","falseMessage","backgroundColor","borderColor","color","animationName","animationDuration","animationTimingFunction","trueMessage","Notification","_props$message","message","success","style","Form","onSubmit","submit","htmlFor","value","onChange","nameChange","numChange","type","baseURL","Persons","getAll","axios","get","then","res","data","create","newObject","post","update","put","remove","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setName","_useState5","_useState6","setNumber","_useState7","_useState8","filterQuery","setFilterQuery","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","personsService","dbPersons","toConsumableArray","catch","error","setTimeout","components_Notification_Notification","event","target","components_Form_Form","preventDefault","find","p","toLowerCase","replace","window","confirm","toUpperCase","personToChange","newPerson","objectSpread","changedPerson","personObject","createdPerson","err","reset","components_Filter_Filter","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.95b1ad05.chunk.js","sourcesContent":["function Aux(props) {return props.children};\r\n\r\nexport default Aux;","import React from \"react\";\r\nimport Aux from \"../hoc/Auxiliary\";\r\n\r\nconst Person = ({ person, clicked }) => (\r\n  <Aux>\r\n    <p>\r\n      <span className=\"contact-name\">{person.name}</span> {person.number}{\" \"}\r\n    </p>\r\n    <button onClick={() => clicked(person.id)}>delete</button>\r\n  </Aux>\r\n);\r\n\r\nexport default Person;\r\n","import React from \"react\";\n\nimport Person from \"../Person/Person\";\n\nconst Filter = ({ query, persons, clicked }) => {\n  const regex = new RegExp(query, \"i\");\n\n  return persons\n    .filter((person) => regex.test(person.name))\n    .map((prsn, i) => (\n      <div className={`person prsn-${i}`} key={prsn.id}>\n        <Person person={prsn} clicked={clicked} />\n      </div>\n    ));\n};\n\nexport default Filter;\n","import React from \"react\";\r\nimport \"./Notification.css\";\r\n\r\nconst falseMessage = {\r\n  backgroundColor: \"white\",\r\n  borderColor: \"red\",\r\n  color: \"red\",\r\n  animationName: \"popDown\",\r\n  animationDuration: \"3s\",\r\n  animationTimingFunction: \"ease-in-out\",\r\n};\r\n\r\nconst trueMessage = {\r\n  backgroundColor: \"white\",\r\n  borderColor: \"green\",\r\n  color: \"green\",\r\n  animationName: \"popDown\",\r\n  animationDuration: \"3s\",\r\n  animationTimingFunction: \"ease-in-out\",\r\n};\r\n\r\nconst Notification = (props) => {\r\n  const { success, message } = props.message;\r\n\r\n  if (success && message) {\r\n    return (\r\n      <p style={trueMessage} className=\"pop-up\">\r\n        {message}\r\n      </p>\r\n    );\r\n  } else if (!success && message) {\r\n    return (\r\n      <p style={falseMessage} className=\"pop-up\">\r\n        {message}\r\n      </p>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst Form = (props) => (\r\n  <form onSubmit={props.submit}>\r\n    <div>\r\n      <label>\r\n        name\r\n        <input\r\n          name=\"phonebookEntry\"\r\n          htmlFor=\"name\"\r\n          value={props.name}\r\n          onChange={props.nameChange}\r\n        />\r\n      </label>\r\n    </div>\r\n    <div>\r\n      <label>\r\n        number\r\n        <input\r\n          name=\"phonebookEntry\"\r\n          htmlFor=\"number\"\r\n          value={props.number}\r\n          onChange={props.numChange}\r\n        />\r\n      </label>\r\n    </div>\r\n    <button type=\"submit\">Save Contact</button>\r\n  </form>\r\n);\r\n\r\nexport default Form;\r\n","import axios from \"axios\";\r\n\r\nconst baseURL = `/api/persons`;\r\n\r\nfunction getAll() {\r\n  const req = axios.get(baseURL);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nfunction create(newObject) {\r\n  const req = axios.post(baseURL, newObject);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nfunction update(id, newObject) {\r\n  const req = axios.put(`${baseURL}/${id}`, newObject);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nfunction remove(id) {\r\n  const req = axios.delete(`${baseURL}/${id}`);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Aux from \"./components/hoc/Auxiliary\";\nimport Filter from \"./components/Filter/Filter\";\nimport Notification from \"./components/Notification/Notification\";\nimport Form from \"./components/Form/Form\";\nimport personsService from \"./services/Persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [filterQuery, setFilterQuery] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState({\n    success: null,\n    message: null,\n  });\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((dbPersons) => setPersons([...dbPersons]))\n      .catch((error) => {\n        setErrorMessage({ success: false, message: error.message });\n        setTimeout(\n          () => setErrorMessage({ success: null, message: null }),\n          3000\n        );\n      });\n  }, []);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    if (\n      persons.find(\n        (p) =>\n          p.name.toLowerCase() === name.toLowerCase() &&\n          p.number.replace(/\\D/g, \"\") !== number.replace(/\\D/g, \"\")\n      )\n    ) {\n      const confirmChange = window.confirm(\n        `${name.toUpperCase()} is already in the phonebook, replace  number ?`\n      );\n      if (confirmChange) {\n        const personToChange = persons.find(\n          (p) => p.name.toLowerCase() === name.toLowerCase()\n        );\n        const id = personToChange.id;\n        const newPerson = { ...personToChange, number: number };\n        personsService\n          .update(id, newPerson)\n          .then((changedPerson) => {\n            setPersons(persons.map((p) => (p.id !== id ? p : changedPerson)));\n            setErrorMessage({\n              success: true,\n              message: `changed ${newPerson.name.toUpperCase()}'s number`,\n            });\n            setTimeout(() => {\n              setErrorMessage({ success: null, message: null });\n            });\n          })\n          .catch((error) => {\n            setErrorMessage({\n              success: false,\n              message: error.message,\n            });\n            setTimeout(() => setErrorMessage({ success: null, message: null }));\n          });\n      } else {\n        setErrorMessage({\n          success: false,\n          message: `declined replacing ${name.toUpperCase()}'s number`,\n        });\n        setTimeout(\n          () => setErrorMessage({ success: null, message: null }),\n          3000\n        );\n      }\n    } else if (\n      !persons.find((p) => p.name.toLowerCase() === name.toLowerCase())\n    ) {\n      const personObject = {\n        name: name,\n        number: number,\n      };\n      personsService\n        .create(personObject)\n        .then((createdPerson) => {\n          setPersons([...persons, createdPerson]);\n          setErrorMessage({\n            success: true,\n            message: `added ${name.toUpperCase()}`,\n          });\n          setName(\"\");\n          setNumber(\"\");\n          setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        })\n        .catch((err) => {\n          setErrorMessage({\n            success: false,\n            message: \"somethig went wrong\",\n          });\n          setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        });\n      event.target.reset();\n    } else {\n      setErrorMessage({ success: false, message: \"duplicate info\" });\n      return setTimeout(\n        () => setErrorMessage({ success: null, message: null }),\n        3000\n      );\n    }\n  };\n\n  const deletePersonHandler = (id) => {\n    const person = persons.find((p) => p.id === id);\n    const confirmDelete = window.confirm(\n      `remove ${person.name.toUpperCase()} ?`\n    );\n    if (confirmDelete) {\n      personsService\n        .remove(id)\n        .then(() => {\n          setPersons([...persons.filter((p) => p.id !== id)]);\n          setErrorMessage({\n            success: false,\n            message: `removed ${person.name.toUpperCase()} from phonebook`,\n          });\n          setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        })\n        .catch((error) => {\n          setErrorMessage({ success: false, message: error.message });\n          setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        });\n    } else {\n      setErrorMessage({\n        success: true,\n        message: `declined deleting ${person.name}'s contact`,\n      });\n      return setTimeout(\n        () => setErrorMessage({ success: null, message: null }),\n        3000\n      );\n    }\n  };\n\n  const changeFilterQuery = (event) => setFilterQuery(event.target.value);\n\n  const formNameChange = (event) => setName(event.target.value);\n  const formNumChange = (event) => setNumber(event.target.value);\n\n  return (\n    <Aux>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <label>\n        Filter By\n        <input onChange={changeFilterQuery} value={filterQuery} />\n      </label>\n      <h1>add new contact</h1>\n      <Form\n        submit={submitHandler}\n        name={name}\n        nameChange={formNameChange}\n        number={number}\n        numChange={formNumChange}\n      />\n      <h1>numbers</h1>\n      <div className=\"phonebook-entries\">\n        <Filter\n          persons={persons}\n          query={filterQuery}\n          clicked={deletePersonHandler}\n        />\n      </div>\n    </Aux>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nimport \"./index.css\";\n\n\nconst persons = [\n  {\n    \"name\": \"Arto Hellas\",\n    \"number\": \"123-456-789\",\n    \"id\": 1\n  },\n  {\n    \"name\": \"Ada Lovelace\",\n    \"number\": \"39-44-5323523\",\n    \"id\": 2\n  },\n  {\n    \"name\": \"Dan Abramov\",\n    \"number\": \"12-43-234345\",\n    \"id\": 3\n  },\n  {\n    \"name\": \"Mary Poppendieck\",\n    \"number\": \"39-23-6423122\",\n    \"id\": 4\n  },\n  {\n    \"name\": \"Rhyan LeShawn\",\n    \"number\": \"+1 408-616-8483\",\n    \"id\": 5\n  }\n]\n\nReactDOM.createRoot(\n  document.getElementById(\"root\")\n).render(\n  <React.StrictMode>\n    <App persons={persons} />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}