(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(49)},28:function(e,n,t){},47:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),u=t(18),r=t.n(u),s=t(19),o=t(5),l=t(2);var i=function(e){return e.children},m=function(e){var n=e.person,t=e.clicked;return c.a.createElement(i,null,c.a.createElement("p",null,c.a.createElement("span",{className:"contact-name"},n.name)," ",n.number," "),c.a.createElement("button",{onClick:function(){return t(n.id)}},"delete"))},f=function(e){var n=e.query,t=e.persons,a=e.clicked,u=new RegExp(n,"i");return t.filter(function(e){return u.test(e.name)}).map(function(e,n){return c.a.createElement("div",{className:"person prsn-".concat(n),key:e.id},c.a.createElement(m,{person:e,clicked:a}))})},p=(t(28),{backgroundColor:"white",borderColor:"red",color:"red",animationName:"popDown",animationDuration:"3s",animationTimingFunction:"ease-in-out"}),d={backgroundColor:"white",borderColor:"green",color:"green",animationName:"popDown",animationDuration:"3s",animationTimingFunction:"ease-in-out"},g=function(e){var n=e.message,t=n.success,a=n.message;return t&&a?c.a.createElement("p",{style:d,className:"pop-up"},a):!t&&a?c.a.createElement("p",{style:p,className:"pop-up"},a):null},b=function(e){return c.a.createElement("form",{onSubmit:e.submit},c.a.createElement("div",null,c.a.createElement("label",null,"name",c.a.createElement("input",{name:"phonebookEntry",htmlFor:"name",value:e.name,onChange:e.nameChange}))),c.a.createElement("div",null,c.a.createElement("label",null,"number",c.a.createElement("input",{name:"phonebookEntry",htmlFor:"number",value:e.number,onChange:e.numChange}))),c.a.createElement("button",{type:"submit"},"Save Contact"))},h=t(3),E=t.n(h),v="/api/persons";var w={getAll:function(){return E.a.get(v).then(function(e){return e.data})},create:function(e){return E.a.post(v,e).then(function(e){return e.data})},update:function(e,n){return E.a.put("".concat(v,"/").concat(e),n).then(function(e){return e.data})},remove:function(e){return E.a.delete("".concat(v,"/").concat(e)).then(function(e){return e.data})}},C=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],r=Object(a.useState)(""),m=Object(l.a)(r,2),p=m[0],d=m[1],h=Object(a.useState)(""),E=Object(l.a)(h,2),v=E[0],C=E[1],k=Object(a.useState)(""),j=Object(l.a)(k,2),O=j[0],y=j[1],T=Object(a.useState)({success:null,message:null}),S=Object(l.a)(T,2),D=S[0],L=S[1];Object(a.useEffect)(function(){w.getAll().then(function(e){return u(Object(o.a)(e))}).catch(function(e){L({success:!1,message:e.message}),setTimeout(function(){return L({success:null,message:null})},3e3)})},[]);return c.a.createElement(i,null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(g,{message:D}),c.a.createElement("label",null,"Filter By",c.a.createElement("input",{onChange:function(e){return y(e.target.value)},value:O})),c.a.createElement("h1",null,"add new contact"),c.a.createElement(b,{submit:function(e){if(e.preventDefault(),t.find(function(e){return e.name.toLowerCase()===p.toLowerCase()&&e.number.replace(/\D/g,"")!==v.replace(/\D/g,"")}))if(window.confirm("".concat(p.toUpperCase()," is already in the phonebook, replace  number ?"))){var n=t.find(function(e){return e.name.toLowerCase()===p.toLowerCase()}),a=n.id,c=Object(s.a)({},n,{number:v});w.update(a,c).then(function(e){u(t.map(function(n){return n.id!==a?n:e})),L({success:!0,message:"changed ".concat(c.name.toUpperCase(),"'s number")}),setTimeout(function(){L({success:null,message:null})})}).catch(function(e){L({success:!1,message:e.message}),setTimeout(function(){return L({success:null,message:null})})})}else L({success:!1,message:"declined replacing ".concat(p.toUpperCase(),"'s number")}),setTimeout(function(){return L({success:null,message:null})},3e3);else{if(t.find(function(e){return e.name.toLowerCase()===p.toLowerCase()}))return L({success:!1,message:"duplicate info"}),setTimeout(function(){return L({success:null,message:null})},3e3);var r={name:p,number:v};w.create(r).then(function(e){u([].concat(Object(o.a)(t),[e])),L({success:!0,message:"added ".concat(p.toUpperCase())}),d(""),C(""),setTimeout(function(){return L({success:null,message:null})},3e3)}).catch(function(e){L({success:!1,message:"somethig went wrong"}),setTimeout(function(){return L({success:null,message:null})},3e3)}),e.target.reset()}},name:p,nameChange:function(e){return d(e.target.value)},number:v,numChange:function(e){return C(e.target.value)}}),c.a.createElement("h1",null,"numbers"),c.a.createElement("div",{className:"phonebook-entries"},c.a.createElement(f,{persons:t,query:O,clicked:function(e){var n=t.find(function(n){return n.id===e});if(!window.confirm("remove ".concat(n.name.toUpperCase()," ?")))return L({success:!0,message:"declined deleting ".concat(n.name,"'s contact")}),setTimeout(function(){return L({success:null,message:null})},3e3);w.remove(e).then(function(){u(Object(o.a)(t.filter(function(n){return n.id!==e}))),L({success:!1,message:"removed ".concat(n.name.toUpperCase()," from phonebook")}),setTimeout(function(){return L({success:null,message:null})},3e3)}).catch(function(e){L({success:!1,message:e.message}),setTimeout(function(){return L({success:null,message:null})},3e3)})}})))};t(47);r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,{persons:[{name:"Arto Hellas",number:"123-456-789",id:1},{name:"Ada Lovelace",number:"39-44-5323523",id:2},{name:"Dan Abramov",number:"12-43-234345",id:3},{name:"Mary Poppendieck",number:"39-23-6423122",id:4},{name:"Rhyan LeShawn",number:"+1 408-616-8483",id:5}]})))}},[[20,2,1]]]);
//# sourceMappingURL=main.95b1ad05.chunk.js.map