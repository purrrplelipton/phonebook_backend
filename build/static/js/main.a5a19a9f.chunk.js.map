{"version":3,"sources":["components/hoc/Auxiliary.js","components/Person/Person.js","components/Filter/Filter.js","components/Notification/Notification.js","components/Form/Form.js","services/Persons.js","App.js","index.js"],"names":["Aux","props","children","Person","_ref","person","clicked","react_default","a","createElement","Auxiliary","className","name","number","onClick","id","Filter","query","persons","regex","RegExp","filter","test","map","prsn","i","concat","key","components_Person_Person","falseMessage","backgroundColor","borderColor","color","animationName","animationDuration","animationTimingFunction","trueMessage","Notification","_props$message","message","success","style","Form","current","Date","toISOString","split","onSubmit","submit","htmlFor","placeholder","value","onChange","nameChange","numChange","type","email","emailChange","address","addressChange","birthdate","birthdateChange","max","e","genderChange","target","checked","gender","baseURL","personsService","getAll","axios","get","then","res","data","create","newObject","post","update","put","remove","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setName","_useState5","_useState6","setNumber","_useState7","_useState8","setEmail","_useState9","_useState10","setAddress","_useState11","_useState12","setBirthdate","_useState13","_useState14","setGender","_useState15","_useState16","filterQuery","setFilterQuery","_useState17","_useState18","errorMessage","setErrorMessage","useEffect","dbPersons","toConsumableArray","catch","error","setTimeout","components_Notification_Notification","event","components_Form_Form","preventDefault","nameRegex","find","p","replace","window","confirm","toUpperCase","personToChange","match","newPerson","objectSpread","changedPerson","personObject","length","date","createdPerson","console","log","response","errors","components_Filter_Filter","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.a5a19a9f.chunk.js","sourcesContent":["function Aux(props) {return props.children};\r\n\r\nexport default Aux;","import React from \"react\";\r\nimport Aux from \"../hoc/Auxiliary\";\r\n\r\nconst Person = ({ person, clicked }) => (\r\n  <Aux>\r\n    <p>\r\n      <span className=\"contact-name\">{person.name}</span> {person.number}{\" \"}\r\n    </p>\r\n    <button onClick={() => clicked(person.id)}>delete</button>\r\n  </Aux>\r\n);\r\n\r\nexport default Person;\r\n","import React from \"react\";\n\nimport Person from \"../Person/Person\";\n\nconst Filter = ({ query, persons, clicked }) => {\n  const regex = new RegExp(query, \"i\");\n\n  return persons\n    .filter((person) => regex.test(person.name))\n    .map((prsn, i) => (\n      <div className={`person prsn-${i}`} key={prsn.id}>\n        <Person person={prsn} clicked={clicked} />\n      </div>\n    ));\n};\n\nexport default Filter;\n","import React from \"react\";\r\nimport \"./Notification.css\";\r\n\r\nconst falseMessage = {\r\n  backgroundColor: \"white\",\r\n  borderColor: \"red\",\r\n  color: \"red\",\r\n  animationName: \"popDown\",\r\n  animationDuration: \"3s\",\r\n  animationTimingFunction: \"ease-in-out\",\r\n};\r\n\r\nconst trueMessage = {\r\n  backgroundColor: \"white\",\r\n  borderColor: \"green\",\r\n  color: \"green\",\r\n  animationName: \"popDown\",\r\n  animationDuration: \"3s\",\r\n  animationTimingFunction: \"ease-in-out\",\r\n};\r\n\r\nconst Notification = (props) => {\r\n  const { success, message } = props.message;\r\n\r\n  if (success && message) {\r\n    return (\r\n      <p style={trueMessage} className=\"pop-up\">\r\n        {message}\r\n      </p>\r\n    );\r\n  } else if (!success && message) {\r\n    return (\r\n      <p style={falseMessage} className=\"pop-up\">\r\n        {message}\r\n      </p>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst Form = (props) => {\r\n  const current = new Date().toISOString().split(\"T\")[0];\r\n\r\n  return (\r\n    <form onSubmit={props.submit}>\r\n      <div>\r\n        <label>\r\n          name\r\n          <input\r\n            name=\"phonebookEntry\"\r\n            htmlFor=\"name\"\r\n            placeholder=\"name\"\r\n            value={props.name}\r\n            onChange={props.nameChange}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div>\r\n        <label>\r\n          number\r\n          <input\r\n            name=\"phonebookEntry\"\r\n            htmlFor=\"number\"\r\n            placeholder=\"number\"\r\n            value={props.number}\r\n            onChange={props.numChange}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div>\r\n        <label>\r\n          e-mail\r\n          <input\r\n            type=\"email\"\r\n            name=\"phonebookEntry\"\r\n            htmlFor=\"e-mail\"\r\n            placeholder=\"e-mail\"\r\n            value={props.email}\r\n            onChange={props.emailChange}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div>\r\n        <label>\r\n          address\r\n          <input\r\n            name=\"phonebookEntry\"\r\n            htmlFor=\"address\"\r\n            placeholder=\"address\"\r\n            value={props.address}\r\n            onChange={props.addressChange}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div>\r\n        <label>birthday</label>\r\n        <input\r\n          type=\"date\"\r\n          name=\"phonebookEntry\"\r\n          htmlFor=\"birthday\"\r\n          placeholder=\"birthday\"\r\n          value={props.birthdate}\r\n          onChange={props.birthdateChange}\r\n          max={current}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"gender\"\r\n            value=\"male\"\r\n            onChange={(e) => props.genderChange(e.target.value)}\r\n            checked={props.gender === \"male\"}\r\n          />\r\n          Male\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"gender\"\r\n            value=\"female\"\r\n            onChange={(e) => props.genderChange(e.target.value)}\r\n            checked={props.gender === \"female\"}\r\n          />\r\n          Female\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"gender\"\r\n            value=\"non-binary\"\r\n            onChange={(e) => props.genderChange(e.target.value)}\r\n            checked={props.gender === \"non-binary\"}\r\n          />\r\n          Non-Binary\r\n        </label>\r\n      </div>\r\n      <button type=\"submit\">Save Contact</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import axios from \"axios\";\r\n\r\nconst baseURL = `/api/persons`;\r\n\r\nfunction getAll() {\r\n  const req = axios.get(baseURL);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nfunction create(newObject) {\r\n  const req = axios.post(baseURL, newObject);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nfunction update(id, newObject) {\r\n  const req = axios.put(`${baseURL}/${id}`, newObject);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nfunction remove(id) {\r\n  const req = axios.delete(`${baseURL}/${id}`);\r\n  return req.then((res) => res.data);\r\n}\r\n\r\nconst personsService = { getAll, create, update, remove };\r\n\r\nexport default personsService;\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Aux from \"./components/hoc/Auxiliary\";\nimport Filter from \"./components/Filter/Filter\";\nimport Notification from \"./components/Notification/Notification\";\nimport Form from \"./components/Form/Form\";\nimport personsService from \"./services/Persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [birthdate, setBirthdate] = useState(\"\");\n  const [gender, setGender] = useState(\"non-binary\");\n  const [filterQuery, setFilterQuery] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState({\n    success: null,\n    message: null,\n  });\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((dbPersons) => setPersons([...dbPersons]))\n      .catch((error) => {\n        setErrorMessage({ success: false, message: error.message });\n        setTimeout(\n          () => setErrorMessage({ success: null, message: null }),\n          3000\n        );\n      });\n  }, []);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    const nameRegex = new RegExp(name, \"i\");\n\n    if (\n      persons.find(\n        (p) =>\n          nameRegex.test(p.name) &&\n          p.number.replace(/\\D/g, \"\") !== number.replace(/\\D/g, \"\")\n      )\n    ) {\n      const confirmChange = window.confirm(\n        `${name.toUpperCase()} is already in the phonebook, replace  number ?`\n      );\n      if (confirmChange) {\n        const personToChange = persons.find((p) => p.name.match(nameRegex));\n        const id = personToChange.id;\n        const newPerson = { ...personToChange, number: number };\n        personsService\n          .update(id, newPerson)\n          .then((changedPerson) => {\n            setPersons(persons.map((p) => (p.id !== id ? p : changedPerson)));\n            setErrorMessage({\n              success: true,\n              message: `changed ${newPerson.name.toUpperCase()}'s number`,\n            });\n            setTimeout(() => {\n              setErrorMessage({ success: null, message: null });\n            });\n          })\n          .catch((error) => {\n            setErrorMessage({\n              success: false,\n              message: error.message,\n            });\n            setTimeout(() => setErrorMessage({ success: null, message: null }));\n          });\n      } else {\n        setErrorMessage({\n          success: false,\n          message: `declined replacing ${name.toUpperCase()}'s number`,\n        });\n        setTimeout(\n          () => setErrorMessage({ success: null, message: null }),\n          3000\n        );\n      }\n    } else if (!persons.find((p) => nameRegex.test(p.name))) {\n      const personObject = {\n        name: name,\n        number: number,\n        email: email,\n        address: address,\n        birthdate: birthdate,\n        gender: gender,\n        id: persons.length + 1,\n        date: new Date(),\n      };\n      personsService\n        .create(personObject)\n        .then((createdPerson) => {\n          setPersons([...persons, createdPerson]);\n          setErrorMessage({\n            success: true,\n            message: `added ${name.toUpperCase()}`,\n          });\n          return setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        })\n        .catch((error) => {\n          console.log(error.response.data.errors);\n          setErrorMessage({\n            success: false,\n            message: error.response.data.error,\n          });\n          return setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        });\n    } else {\n      setErrorMessage({ success: false, message: \"duplicate info\" });\n      return setTimeout(\n        () => setErrorMessage({ success: null, message: null }),\n        3000\n      );\n    }\n  };\n\n  const deletePersonHandler = (id) => {\n    const person = persons.find((p) => p.id === id);\n    const confirmDelete = window.confirm(\n      `remove ${person.name.toUpperCase()} ?`\n    );\n    if (confirmDelete) {\n      personsService\n        .remove(id)\n        .then(() => {\n          setPersons([...persons.filter((p) => p.id !== id)]);\n          setErrorMessage({\n            success: false,\n            message: `removed ${person.name.toUpperCase()} from phonebook`,\n          });\n          setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        })\n        .catch((error) => {\n          setErrorMessage({ success: false, message: error.message });\n          setTimeout(\n            () => setErrorMessage({ success: null, message: null }),\n            3000\n          );\n        });\n    } else {\n      setErrorMessage({\n        success: true,\n        message: `declined deleting ${person.name}'s contact`,\n      });\n      return setTimeout(\n        () => setErrorMessage({ success: null, message: null }),\n        3000\n      );\n    }\n  };\n\n  const changeFilterQuery = (event) => setFilterQuery(event.target.value);\n\n  const formNameChange = (event) => setName(event.target.value);\n  const formNumChange = (event) => setNumber(event.target.value);\n  const formEmailChange = (event) => setEmail(event.target.value);\n  const formAddressChange = (event) => setAddress(event.target.value);\n  const formBirthdateChange = (event) => setBirthdate(event.target.value);\n  const formGenderChange = (value) => setGender(value);\n\n  return (\n    <Aux>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <input placeholder=\"filter by...\" onChange={changeFilterQuery} />\n      <h1>add new contact</h1>\n      <Form\n        submit={submitHandler}\n        name={name}\n        nameChange={formNameChange}\n        number={number}\n        numChange={formNumChange}\n        email={email}\n        emailChange={formEmailChange}\n        address={address}\n        addressChange={formAddressChange}\n        birthdate={birthdate}\n        birthdateChange={formBirthdateChange}\n        gender={gender}\n        genderChange={formGenderChange}\n      />\n      <h1>numbers</h1>\n      <div className=\"phonebook-entries\">\n        <Filter\n          persons={persons}\n          query={filterQuery}\n          clicked={deletePersonHandler}\n        />\n      </div>\n    </Aux>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nimport \"./index.css\";\n\n\nconst persons = [\n  {\n    \"name\": \"Arto Hellas\",\n    \"number\": \"123-456-789\",\n    \"id\": 1\n  },\n  {\n    \"name\": \"Ada Lovelace\",\n    \"number\": \"39-44-5323523\",\n    \"id\": 2\n  },\n  {\n    \"name\": \"Dan Abramov\",\n    \"number\": \"12-43-234345\",\n    \"id\": 3\n  },\n  {\n    \"name\": \"Mary Poppendieck\",\n    \"number\": \"39-23-6423122\",\n    \"id\": 4\n  },\n  {\n    \"name\": \"Rhyan LeShawn\",\n    \"number\": \"+1 408-616-8483\",\n    \"id\": 5\n  }\n]\n\nReactDOM.createRoot(\n  document.getElementById(\"root\")\n).render(\n  <React.StrictMode>\n    <App persons={persons} />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}